:root {
  --bg:       #0f0f14;
  --surface:  #16161f;
  --surface2: #1e1e2e;
  --border:   #2a2a3d;
  --purple:   #9d6fdb;
  --purple2:  #7c4fc4;
  --purple3:  #c9a0ff;
  --text:     #d4d4e8;
  --muted:    #6e6e96;
  --green:    #4ec9b0;
  --orange:   #ce9178;
  --blue:     #569cd6;
  --yellow:   #dcdcaa;
  --accent:   #ff79c6;
  --radius:   8px;
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; overflow: hidden; font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg); color: var(--text); font-size: 14px; }

/* ── LAYOUT ── */
#app { display: grid; grid-template-rows: 52px 1fr; grid-template-columns: 220px 1fr; height: 100vh; }
#topbar { grid-column: 1/-1; display: flex; align-items: center; gap: 12px; padding: 0 16px; background: var(--surface); border-bottom: 1px solid var(--border); z-index: 10; }
#main { grid-row: 2; display: grid; grid-template-columns: 240px 1fr; overflow: hidden; }
#method-list { overflow-y: auto; border-right: 1px solid var(--border); background: var(--surface2); }
#content { overflow-y: auto; padding: 28px 36px; }

/* ── TOPBAR ── */
#logo { display: flex; align-items: center; gap: 10px; text-decoration: none; flex-shrink: 0; }
#logo span { font-size: 16px; font-weight: 700; color: var(--purple3); letter-spacing: .5px; }
#search-wrap { flex: 1; max-width: 420px; position: relative; }
#search { width: 100%; background: var(--surface2); border: 1px solid var(--border); border-radius: var(--radius); padding: 7px 12px 7px 34px; color: var(--text); font-size: 13px; outline: none; transition: border-color .2s; }
#search:focus { border-color: var(--purple); }
#search-icon { position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: var(--muted); pointer-events: none; }
#search-results { position: absolute; top: calc(100% + 4px); left: 0; right: 0; background: var(--surface2); border: 1px solid var(--border); border-radius: var(--radius); max-height: 360px; overflow-y: auto; z-index: 100; display: none; box-shadow: 0 8px 24px #0008; }
#search-results.open { display: block; }
.sr-item { padding: 9px 14px; cursor: pointer; display: flex; align-items: baseline; gap: 8px; border-bottom: 1px solid var(--border); }
.sr-item:last-child { border-bottom: none; }
.sr-item:hover { background: var(--border); }
.sr-badge { font-size: 10px; font-weight: 700; padding: 1px 6px; border-radius: 20px; flex-shrink: 0; }
.sr-badge.class  { background: var(--purple2); color: #fff; }
.sr-badge.method { background: #2d4a6e; color: var(--blue); }
.sr-name  { font-weight: 600; color: var(--text); }
.sr-class { color: var(--muted); font-size: 12px; }
.sr-desc  { color: var(--muted); font-size: 12px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

/* ── SIDEBAR ── */
#sidebar { grid-row: 2; display: flex; flex-direction: column; background: var(--surface); border-right: 1px solid var(--border); overflow-y: auto; min-height: 0; }
#sidebar-header { padding: 14px 14px 8px; font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; color: var(--muted); flex-shrink: 0; }
.tree-node { display: flex; align-items: center; gap: 5px; padding-top: 3px; padding-bottom: 3px; padding-right: 8px; width: 100%; }
.tree-arrow { color: var(--muted); font-size: 9px; flex-shrink: 0; width: 12px; line-height: 1; }
.tree-indent { flex-shrink: 0; width: 12px; }
.tree-link { flex: 1; font-size: 13px; color: var(--text); text-decoration: none; white-space: nowrap; transition: color .15s; }
.tree-link:hover { color: var(--purple3); }
.tree-link.active { color: var(--purple3); font-weight: 700; }
.class-count { font-size: 11px; color: var(--muted); }

/* ── METHOD LIST ── */
#method-header { padding: 14px 14px 8px; font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; color: var(--muted); border-bottom: 1px solid var(--border); }
.method-item { padding: 8px 14px; cursor: pointer; font-size: 12.5px; color: var(--text); display: flex; align-items: center; gap: 6px; text-decoration: none; transition: background .15s; }
.method-item:hover  { background: var(--bg); }
.method-item.active { background: var(--bg); color: var(--purple3); font-weight: 600; }
.method-item.inherited { color: var(--muted); }
.method-item.inherited:hover,
.method-item.inherited.active { color: var(--purple3); }
.inh-dot { width: 6px; height: 6px; border-radius: 50%; background: var(--purple2); flex-shrink: 0; }
.own-dot { width: 6px; height: 6px; border-radius: 50%; background: var(--green);   flex-shrink: 0; }

/* ── CONTENT ── */
#content h1 { font-size: 26px; font-weight: 700; color: var(--purple3); margin-bottom: 8px; }
#content h2 { font-size: 18px; font-weight: 600; color: var(--purple3); margin: 24px 0 12px; }
.class-desc { color: var(--muted); line-height: 1.7; margin-bottom: 18px; max-width: 720px; }
.method-desc-text { color: var(--text); line-height: 1.7; margin: 8px 0; max-width: 720px; }
.breadcrumb { font-size: 12px; color: var(--muted); margin-bottom: 20px; }
.breadcrumb a { color: var(--purple); text-decoration: none; }
.breadcrumb a:hover { text-decoration: underline; }
.inh-chain { display: flex; align-items: center; gap: 8px; margin-bottom: 14px; flex-wrap: wrap; }
.inh-chain-label { font-size: 12px; color: var(--muted); }
.inh-link { font-size: 12px; color: var(--purple); background: #2a1e3e; border: 1px solid var(--purple2); padding: 2px 10px; border-radius: 20px; text-decoration: none; transition: background .15s; }
.inh-link:hover { background: var(--purple2); color: #fff; }
.method-count-bar { display: flex; gap: 14px; margin-bottom: 18px; }
.mcb-item { font-size: 12px; color: var(--muted); display: flex; align-items: center; gap: 5px; }
.mcb-dot-own { width: 8px; height: 8px; border-radius: 50%; background: var(--green); }
.mcb-dot-inh { width: 8px; height: 8px; border-radius: 50%; background: var(--purple2); }

/* ── METHOD CARDS ── */
.method-card { background: var(--surface2); border: 1px solid var(--border); border-radius: var(--radius); padding: 22px 24px; margin-bottom: 24px; scroll-margin-top: 20px; max-width: 820px; }
.method-name { font-size: 19px; font-weight: 700; color: var(--yellow); font-family: 'Consolas', monospace; margin-bottom: 4px; }
.method-inherited-badge { font-size: 11px; color: var(--purple); background: #2a1e3e; border: 1px solid var(--purple2); border-radius: 20px; padding: 1px 8px; margin-left: 8px; vertical-align: middle; font-family: 'Segoe UI', sans-serif; font-weight: 400; }
.proto-list { margin: 6px 0 8px; display: flex; flex-wrap: wrap; gap: 6px; }
.proto-badge { background: #2a3a1a; color: var(--green); font-family: monospace; font-size: 12px; padding: 3px 10px; border-radius: 4px; display: inline-block; }
.tag-section { margin-top: 14px; }
.tag-label { font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: .8px; color: var(--muted); margin-bottom: 6px; }
.tag-type    { color: var(--blue);   font-family: monospace; background: #1a2a3a; padding: 1px 7px; border-radius: 4px; flex-shrink: 0; }
.tag-name    { color: var(--green);  font-family: monospace; flex-shrink: 0; }
.tag-default { color: var(--orange); font-family: monospace; font-size: 12px; flex-shrink: 0; }
.tag-row { display: flex; gap: 10px; align-items: baseline; margin-bottom: 5px; font-size: 13px; flex-wrap: wrap; }
.tag-desc    { color: var(--muted); min-width: 0; flex: 1; }

/* ── DOC LINKS ── */
a.doc-link { color: var(--purple3); text-decoration: none; border-bottom: 1px dotted var(--purple2); transition: color .15s, border-color .15s; }
a.doc-link:hover { color: #fff; border-bottom-color: var(--purple3); }
.inline-code { font-family: 'Consolas', monospace; font-size: 12px; color: var(--orange); background: #1a1a2e; padding: 1px 5px; border-radius: 3px; }

/* ── SYNOPSIS ── */
.synopsis-block { margin-top: 14px; }
.synopsis-block .section-header { font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: .8px; color: var(--muted); margin-bottom: 6px; }
.synopsis-code { background: #0d0d14; border: 1px solid var(--border); border-radius: var(--radius); padding: 10px 16px; display: inline-block; max-width: 100%; overflow-x: auto; }
.synopsis-code code { font-family: 'Consolas', 'Fira Code', monospace; font-size: 13px; color: var(--yellow); }

/* ── ENUM TABLES ── */
.pre-block { margin: 12px 0; border: 1px solid var(--border); border-radius: var(--radius); overflow: hidden; max-width: 820px; }
.pre-block-header { padding: 7px 14px; background: #1a1a2e; font-family: monospace; font-size: 12px; color: var(--purple3); font-weight: 700; border-bottom: 1px solid var(--border); }
.enum-table { width: 100%; border-collapse: collapse; font-size: 12px; }
.enum-table thead th { padding: 6px 12px; background: #18182a; color: var(--muted); font-weight: 600; text-align: left; border-bottom: 1px solid var(--border); font-size: 11px; text-transform: uppercase; letter-spacing: .6px; }
.enum-table tbody tr { border-bottom: 1px solid var(--border); transition: background .1s; }
.enum-table tbody tr:last-child { border-bottom: none; }
.enum-table tbody tr:hover { background: #1a1a28; }
.enum-name { padding: 5px 12px; font-family: monospace; color: var(--yellow); white-space: nowrap; }
.enum-val  { padding: 5px 12px; font-family: monospace; color: var(--green); white-space: nowrap; }
.enum-desc { padding: 5px 12px; color: var(--muted); }
.enum-ref  { color: var(--blue); }
.pre-note  { padding: 5px 14px; font-family: monospace; font-size: 12px; color: var(--muted); background: #18182a; border-top: 1px solid var(--border); }
.enum-note { padding: 5px 12px; color: var(--muted); font-family: monospace; font-size: 12px; background: #18182a; border-top: 1px solid var(--border); }

/* ── CODE BLOCKS ── */
pre.code-block { background: #0d0d14; border: 1px solid var(--border); border-radius: var(--radius); padding: 14px 18px; margin: 10px 0; overflow-x: auto; max-width: 820px; }
pre.code-block code { font-family: 'Consolas', 'Fira Code', monospace; font-size: 13px; color: var(--green); line-height: 1.6; }

/* ── EMPTY STATE ── */
.empty-state { color: var(--muted); font-size: 15px; margin-top: 60px; text-align: center; }
.empty-state svg { display: block; margin: 0 auto 16px; }

/* ── SCROLLBAR ── */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--muted); }